// Generated by tsbindgen - Architecture
// Namespace: Microsoft.EntityFrameworkCore.Migrations.Internal
// Assembly: Microsoft.EntityFrameworkCore.Relational

// Primitive type aliases from @tsonic/core
import type { sbyte, byte, short, ushort, int, uint, long, ulong, int128, uint128, half, float, double, decimal, nint, nuint, char } from '@tsonic/core/types.js';

// Import types from other namespaces
import type { IDiagnosticsLogger_1, IRelationalCommandDiagnosticsLogger } from "../../Microsoft.EntityFrameworkCore.Diagnostics/internal/index.js";
import type { ICurrentDbContext, IDbContextOptions, IModelRuntimeInitializer, ModelSnapshot } from "../../Microsoft.EntityFrameworkCore.Infrastructure/internal/index.js";
import type { IDesignTimeModel, IRelationalAnnotationProvider, IRelationalModel } from "../../Microsoft.EntityFrameworkCore.Metadata/internal/index.js";
import type { MigrationOperation } from "../../Microsoft.EntityFrameworkCore.Migrations.Operations/internal/index.js";
import * as Microsoft_EntityFrameworkCore_Migrations_Internal from "../../Microsoft.EntityFrameworkCore.Migrations/internal/index.js";
import type { IHistoryRepository, IMigrationCommandExecutor, IMigrationsAnnotationProvider, IMigrationsAssembly, IMigrationsIdGenerator, IMigrationsModelDiffer, IMigrationsSqlGenerator, IMigrator, Migration, MigrationCommand, MigrationExecutionState, MigrationsSqlGenerationOptions } from "../../Microsoft.EntityFrameworkCore.Migrations/internal/index.js";
import type { IDatabaseCreator, IDatabaseProvider, IExecutionStrategy, IRawSqlCommandBuilder, IRelationalConnection, IRelationalTypeMappingSource, ISqlGenerationHelper } from "../../Microsoft.EntityFrameworkCore.Storage/internal/index.js";
import type { CommandBatchPreparerDependencies, IRowIdentityMapFactory } from "../../Microsoft.EntityFrameworkCore.Update.Internal/internal/index.js";
import type { DbLoggerCategory_Migrations } from "../../Microsoft.EntityFrameworkCore/internal/index.js";
import type { IEnumerable, IReadOnlyDictionary, IReadOnlyList } from "@tsonic/dotnet/System.Collections.Generic.js";
import type { IsolationLevel } from "@tsonic/dotnet/System.Data.js";
import * as System_Internal from "@tsonic/dotnet/System.js";
import type { Boolean as ClrBoolean, Int32, Nullable, Object as ClrObject, String as ClrString, Void } from "@tsonic/dotnet/System.js";
import type { Assembly, TypeInfo } from "@tsonic/dotnet/System.Reflection.js";
import type { CancellationToken } from "@tsonic/dotnet/System.Threading.js";
import type { Task } from "@tsonic/dotnet/System.Threading.Tasks.js";

export interface MigrationCommandExecutor$instance {
    executeNonQuery(migrationCommands: IEnumerable<MigrationCommand>, connection: IRelationalConnection): void;
    executeNonQuery(migrationCommands: IReadOnlyList<MigrationCommand>, connection: IRelationalConnection, executionState: MigrationExecutionState, commitTransaction: boolean, isolationLevel?: Nullable<IsolationLevel>): int;
    executeNonQueryAsync(migrationCommands: IEnumerable<MigrationCommand>, connection: IRelationalConnection, cancellationToken?: CancellationToken): Task;
    executeNonQueryAsync(migrationCommands: IReadOnlyList<MigrationCommand>, connection: IRelationalConnection, executionState: MigrationExecutionState, commitTransaction: boolean, isolationLevel?: Nullable<IsolationLevel>, cancellationToken?: CancellationToken): Task<System_Internal.Int32>;
}


export const MigrationCommandExecutor: {
    new(executionStrategy: IExecutionStrategy): MigrationCommandExecutor;
};


export interface __MigrationCommandExecutor$views {
    As_IMigrationCommandExecutor(): Microsoft_EntityFrameworkCore_Migrations_Internal.IMigrationCommandExecutor$instance;
}

export interface MigrationCommandExecutor$instance extends Microsoft_EntityFrameworkCore_Migrations_Internal.IMigrationCommandExecutor$instance {}

export type MigrationCommandExecutor = MigrationCommandExecutor$instance & __MigrationCommandExecutor$views;


export interface MigrationsAssembly$instance {
    readonly assembly: Assembly;
    readonly migrations: IReadOnlyDictionary<System_Internal.String, TypeInfo>;
    readonly modelSnapshot: ModelSnapshot | undefined;
    createMigration(migrationClass: TypeInfo, activeProvider: string): Migration;
    findMigrationId(nameOrId: string): string | undefined;
}


export const MigrationsAssembly: {
    new(currentContext: ICurrentDbContext, options: IDbContextOptions, idGenerator: IMigrationsIdGenerator, logger: IDiagnosticsLogger_1<DbLoggerCategory_Migrations>): MigrationsAssembly;
};


export interface __MigrationsAssembly$views {
    As_IMigrationsAssembly(): Microsoft_EntityFrameworkCore_Migrations_Internal.IMigrationsAssembly$instance;
}

export interface MigrationsAssembly$instance extends Microsoft_EntityFrameworkCore_Migrations_Internal.IMigrationsAssembly$instance {}

export type MigrationsAssembly = MigrationsAssembly$instance & __MigrationsAssembly$views;


export interface MigrationsIdGenerator$instance {
    generateId(name: string): string;
    getName(id: string): string;
    isValidId(value: string): boolean;
}


export const MigrationsIdGenerator: {
    new(): MigrationsIdGenerator;
};


export interface __MigrationsIdGenerator$views {
    As_IMigrationsIdGenerator(): Microsoft_EntityFrameworkCore_Migrations_Internal.IMigrationsIdGenerator$instance;
}

export interface MigrationsIdGenerator$instance extends Microsoft_EntityFrameworkCore_Migrations_Internal.IMigrationsIdGenerator$instance {}

export type MigrationsIdGenerator = MigrationsIdGenerator$instance & __MigrationsIdGenerator$views;


export interface MigrationsModelDiffer$instance {
    getDifferences(source: IRelationalModel, target: IRelationalModel): IReadOnlyList<MigrationOperation>;
    hasDifferences(source: IRelationalModel, target: IRelationalModel): boolean;
}


export const MigrationsModelDiffer: {
    new(typeMappingSource: IRelationalTypeMappingSource, migrationsAnnotationProvider: IMigrationsAnnotationProvider, relationalAnnotationProvider: IRelationalAnnotationProvider, rowIdentityMapFactory: IRowIdentityMapFactory, commandBatchPreparerDependencies: CommandBatchPreparerDependencies): MigrationsModelDiffer;
};


export interface __MigrationsModelDiffer$views {
    As_IMigrationsModelDiffer(): Microsoft_EntityFrameworkCore_Migrations_Internal.IMigrationsModelDiffer$instance;
}

export interface MigrationsModelDiffer$instance extends Microsoft_EntityFrameworkCore_Migrations_Internal.IMigrationsModelDiffer$instance {}

export type MigrationsModelDiffer = MigrationsModelDiffer$instance & __MigrationsModelDiffer$views;


export interface Migrator$instance {
    generateScript(fromMigration?: string, toMigration?: string, options?: MigrationsSqlGenerationOptions): string;
    hasPendingModelChanges(): boolean;
    migrate(targetMigration: string): void;
    migrateAsync(targetMigration: string, cancellationToken?: CancellationToken): Task;
}


export const Migrator: {
    new(migrationsAssembly: IMigrationsAssembly, historyRepository: IHistoryRepository, databaseCreator: IDatabaseCreator, migrationsSqlGenerator: IMigrationsSqlGenerator, rawSqlCommandBuilder: IRawSqlCommandBuilder, migrationCommandExecutor: IMigrationCommandExecutor, connection: IRelationalConnection, sqlGenerationHelper: ISqlGenerationHelper, currentContext: ICurrentDbContext, modelRuntimeInitializer: IModelRuntimeInitializer, logger: IDiagnosticsLogger_1<DbLoggerCategory_Migrations>, commandLogger: IRelationalCommandDiagnosticsLogger, databaseProvider: IDatabaseProvider, migrationsModelDiffer: IMigrationsModelDiffer, designTimeModel: IDesignTimeModel, contextOptions: IDbContextOptions, executionStrategy: IExecutionStrategy): Migrator;
};


export interface __Migrator$views {
    As_IMigrator(): Microsoft_EntityFrameworkCore_Migrations_Internal.IMigrator$instance;
}

export type Migrator = Migrator$instance & __Migrator$views;


export interface MigratorData$instance {
    readonly appliedMigrations: IReadOnlyList<Migration>;
    readonly revertedMigrations: IReadOnlyList<Migration>;
    readonly targetMigration: Migration | undefined;
}


export const MigratorData: {
    new(appliedMigrations: IReadOnlyList<Migration>, revertedMigrations: IReadOnlyList<Migration>, targetMigration: Migration): MigratorData;
};


export type MigratorData = MigratorData$instance;

export abstract class MigrationExtensions$instance {
    static getId(migration: Migration): string;
}


export type MigrationExtensions = MigrationExtensions$instance;

